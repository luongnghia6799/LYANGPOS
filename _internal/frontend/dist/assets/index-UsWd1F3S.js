const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-C52Jj-OA.js","assets/vendor-C23Namvk.js","assets/vendor-utils-C44aPrMG.js","assets/vendor-charts-6q8tr750.js","assets/Toast-DQljrx14.js","assets/vendor-framer-DVZK1f_z.js","assets/vendor-icons-B3K5gD8o.js","assets/POS-Dq1Rq4lQ.js","assets/settings-BT5ickwW.js","assets/PrintTemplate-Caxf_GDA.js","assets/ProductEditModal-DOGOkWHJ.js","assets/PartnerEditModal-Dpv7L0QI.js","assets/Purchase-Dk-RNRex.js","assets/History-CzRL2BN7.js","assets/ConfirmModal-DOatB4D2.js","assets/CashVoucher-BFuItA1x.js","assets/ProductManager-CwLNtW1F.js","assets/PartnerManager-BnEqIrjL.js","assets/OrderEditPopup-D_7BTVt5.js","assets/Settings-CesFWRTZ.js","assets/Reports-BXNtslca.js","assets/ReportsBoard-WEhfGZgu.js","assets/Summary-DMUkPfte.js","assets/InvoiceDesigner-Dy4bLYAv.js","assets/Welcome-C2irn9kq.js"])))=>i.map(i=>d[i]);
import{_ as U,$,a0 as T,r as n,a1 as B,j as e,a2 as S,a3 as F,a4 as K,a5 as z,a6 as m,a7 as W,a8 as G}from"./vendor-C23Namvk.js";import{a as C}from"./vendor-utils-C44aPrMG.js";import{A as w,m as l,L as J,d as q}from"./vendor-framer-DVZK1f_z.js";import{C as Y,H as Q,W as X,T as Z,a as ee,b as te,S as se,L as ae,c as O,D as re,d as ne,e as ie,M as oe,f as le,U as ce,g as L,P as de,h as ue,i as he,K as me,j as pe}from"./vendor-icons-B3K5gD8o.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const xe="modulepreload",fe=function(t){return"/"+t},P={},x=function(s,r,a){let o=Promise.resolve();if(r&&r.length>0){let N=function(h){return Promise.all(h.map(b=>Promise.resolve(b).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");o=N(r.map(h=>{if(h=fe(h),h in P)return;P[h]=!0;const b=h.endsWith(".css"),p=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=b?"stylesheet":xe,b||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),b)return new Promise((_,E)=>{g.addEventListener("load",_),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return s().catch(i)})};function k(...t){return U($(t))}const $e=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t),D=t=>t==null||isNaN(t)?"0":new Intl.NumberFormat("en-US").format(t),Be=t=>t==null||t===0?"CÔNG NỢ: 0":t>0?`HỌ NỢ MÌNH: ${D(t)}`:`MÌNH NỢ HỌ: ${D(Math.abs(t))}`,Fe=(t,s=60)=>{if(!t||t==="...")return!1;try{let r;if(t.includes("/")){const c=t.split("/");if(c.length!==3)return!1;r=new Date(c[2],c[1]-1,c[0])}else if(t.includes("-"))r=new Date(t);else return!1;const a=new Date;a.setHours(0,0,0,0);const o=r-a,i=Math.ceil(o/(1e3*60*60*24));return i>=0&&i<=s}catch{return!1}},Ke=t=>{if(!t||t==="...")return!1;try{let s;if(t.includes("/")){const a=t.split("/");if(a.length!==3)return!1;s=new Date(a[2],a[1]-1,a[0])}else if(t.includes("-"))s=new Date(t);else return!1;const r=new Date;return r.setHours(0,0,0,0),s<r}catch{return!1}},We=t=>{if(!t)return"-";try{const s=new Date(t);if(isNaN(s.getTime()))return"-";const r=String(s.getDate()).padStart(2,"0"),a=String(s.getMonth()+1).padStart(2,"0"),o=s.getFullYear(),i=String(s.getHours()).padStart(2,"0"),c=String(s.getMinutes()).padStart(2,"0"),u=String(s.getSeconds()).padStart(2,"0");return`${i}:${c}:${u} ${r}/${a}/${o}`}catch{return"-"}},ge=({icon:t,label:s,path:r,active:a})=>e.jsxs("div",{className:"relative",children:[e.jsxs(S,{to:r,className:k("relative z-10 flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-black transition-all duration-300 select-none",a?"text-white":"text-white/60 hover:text-white"),children:[e.jsx(l.div,{whileHover:{rotate:[0,-10,10,0],scale:1.1},transition:{duration:.3},children:e.jsx(t,{size:18,className:k("transition-colors duration-300",a?"text-white":"group-hover:text-white")})}),e.jsx("span",{className:"whitespace-nowrap tracking-tight",children:s})]}),a&&e.jsx(l.div,{layoutId:"nav-active-bg",className:"absolute inset-0 bg-white/20 shadow-[0_0_10px_rgba(255,255,255,0.2)] backdrop-blur-md rounded-xl z-0",transition:{type:"spring",stiffness:800,damping:45,mass:.3}}),!a&&e.jsx(l.div,{className:"absolute inset-0 bg-white/0 rounded-xl z-0",whileHover:{backgroundColor:"rgba(255, 255, 255, 0.15)"},transition:{duration:.1}})]});function ye({children:t}){const s=T(),r=d=>s.pathname===d,[a,o]=n.useState(localStorage.getItem("theme")||"light"),[i,c]=n.useState(localStorage.getItem("app_theme")||"agri"),[u,N]=n.useState(!1),[h,b]=n.useState(localStorage.getItem("user_avatar")||""),[p,g]=n.useState(localStorage.getItem("nav_collapsed")==="true"),_=n.useRef(null),E=B(),v=[{icon:Q,label:"Tổng quan",path:"/"},{icon:X,label:"Bán hàng (POS)",path:"/pos"},{icon:Z,label:"Nhập hàng",path:"/purchase"},{icon:ee,label:"Lịch sử",path:"/history"},{icon:te,label:"Sổ Giao Dịch",path:"/summary"},{icon:se,label:"Tổng Hợp",path:"/analysis"},{icon:ae,label:"Báo cáo",path:"/reports"},{icon:O,label:"Danh mục",path:"/products"},{icon:re,label:"Đối tác",path:"/partners"},{icon:ne,label:"Quỹ tiền",path:"/vouchers"},{icon:ie,label:"Thiết kế hóa đơn",path:"/invoice-designer"}];n.useEffect(()=>{const d=y=>{_.current&&!_.current.contains(y.target)&&N(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),n.useEffect(()=>{a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",a)},[a]),n.useEffect(()=>{document.documentElement.setAttribute("data-theme",i),localStorage.setItem("app_theme",i)},[i]),n.useEffect(()=>{localStorage.setItem("nav_collapsed",p)},[p]),n.useEffect(()=>{const y=setInterval(()=>{const j=localStorage.getItem("user_avatar");j!==h&&b(j||"")},2e3);return()=>clearInterval(y)},[h]);const R=()=>o(d=>d==="light"?"dark":"light"),H=()=>{localStorage.removeItem("user"),sessionStorage.removeItem("user"),E("/welcome")};return n.useEffect(()=>{const d=y=>{if(y.ctrlKey&&(y.key==="PageUp"||y.key==="PageDown")){y.preventDefault();const j=v.findIndex(V=>V.path===s.pathname);if(j===-1)return;let I;y.key==="PageDown"?I=(j+1)%v.length:I=(j-1+v.length)%v.length,E(v[I].path)}};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s.pathname,E]),e.jsxs("div",{className:"flex flex-col h-screen w-full main-content-bg overflow-hidden print:h-auto print:overflow-visible print:block selection:bg-blue-100 dark:selection:bg-blue-900 transition-colors",children:[e.jsx(w,{children:p&&e.jsx(l.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"fixed top-0 left-1/2 -translate-x-1/2 z-[600] print:hidden",children:e.jsxs("button",{onClick:()=>g(!1),className:"bg-primary/80 backdrop-blur-md text-white px-6 py-1.5 rounded-b-2xl shadow-xl border border-white/20 border-t-0 hover:bg-primary transition-all flex items-center gap-2 group",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-white animate-pulse"}),e.jsx(Y,{size:14,className:"group-hover:translate-y-0.5 transition-transform"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Hiện Menu"})]})})}),e.jsx(l.header,{initial:!1,animate:{y:p?-100:0,opacity:p?0:1,height:p?0:"auto"},transition:{type:"spring",stiffness:400,damping:35},className:"z-[500] px-6 py-3 print:hidden",children:e.jsxs("nav",{className:"mx-auto max-w-[1600px] flex items-center justify-between gap-4 px-6 py-3 rounded-2xl border border-white/10 top-nav-gradient shadow-2xl backdrop-blur-md relative",children:[e.jsx(l.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-4",children:e.jsxs(S,{to:"/",className:"flex items-center gap-3 shrink-0",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-10 h-10 object-contain drop-shadow-2xl"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-xl font-black text-white tracking-tight leading-none text-glow",children:"LyangPOS"}),e.jsx("span",{className:"text-[8px] text-white/70 font-bold tracking-widest uppercase",children:"BY LYANG NGHĨA"})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(l.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.01}}},className:"flex items-center gap-1 overflow-x-auto no-scrollbar scroll-smooth",children:v.map(d=>e.jsx(l.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{duration:.1},children:e.jsx(ge,{icon:d.icon,label:d.label,path:d.path,active:r(d.path)})},d.path))})}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded-xl p-1 border border-white/10 backdrop-blur-sm shadow-inner group",children:[e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c("agri"),className:k("w-6 h-6 rounded-lg transition-all duration-300 relative",i==="agri"?"bg-white shadow-[0_0_15px_rgba(255,255,255,0.6)]":"bg-[#2d5016] opacity-50 hover:opacity-80"),title:"Vụ Mùa (Xanh)",children:i==="agri"&&e.jsx(l.div,{layoutId:"theme-dot",className:"absolute inset-0 border-2 border-[#2d5016] rounded-lg"})}),e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c("luxury"),className:k("w-6 h-6 rounded-lg transition-all duration-300 relative",i==="luxury"?"bg-white shadow-[0_0_15px_rgba(255,255,255,0.6)]":"bg-[#A67C00] opacity-50 hover:opacity-80"),title:"Luxury (Vàng Gold)",children:i==="luxury"&&e.jsx(l.div,{layoutId:"theme-dot",className:"absolute inset-0 border-2 border-[#A67C00] rounded-lg"})})]}),e.jsx(l.button,{whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},onClick:R,className:"p-2 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all shadow-sm relative overflow-hidden group",title:a==="light"?"Chế độ tối":"Chế độ sáng",children:e.jsx(w,{mode:"wait",initial:!1,children:e.jsx(l.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2},children:a==="light"?e.jsx(oe,{size:20}):e.jsx(le,{size:20})},a)})}),e.jsxs("div",{className:"relative",ref:_,children:[e.jsxs(l.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(!u),className:"flex items-center gap-2 p-1 pl-1 pr-3 rounded-xl bg-white/10 border border-white/10 backdrop-blur-sm hover:bg-white/20 transition-all group shadow-lg",children:[e.jsx(l.div,{whileHover:{rotate:5},className:"w-8 h-8 rounded-lg bg-white/20 border border-white/30 flex items-center justify-center text-white font-black overflow-hidden shadow-md",children:h?e.jsx("img",{src:h,alt:"User",className:"w-full h-full object-cover"}):JSON.parse(sessionStorage.getItem("user")||"{}").display_name?.charAt(0)||e.jsx(ce,{size:18})}),e.jsx("span",{className:"text-sm font-black text-white hidden sm:block",children:JSON.parse(sessionStorage.getItem("user")||"{}").display_name?.split(" ")[0]||"User"}),e.jsx(l.div,{animate:{rotate:u?180:0},transition:{type:"spring",stiffness:200,damping:15},children:e.jsx(L,{size:14,className:"text-white/40 group-hover:text-white transition-colors"})})]}),e.jsx(w,{children:u&&e.jsxs(l.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-full right-0 mt-3 w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden p-2 z-[600]",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-slate-100 dark:border-slate-700 mb-1",children:[e.jsx("p",{className:"font-black text-slate-800 dark:text-white truncate",children:JSON.parse(sessionStorage.getItem("user")||"{}").display_name}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["@",JSON.parse(sessionStorage.getItem("user")||"{}").username]})]}),e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsxs(S,{to:"/settings",onClick:()=>N(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-700 dark:text-slate-200 font-bold text-sm",children:[e.jsx(L,{size:18}),e.jsx("span",{children:"Cài đặt hệ thống"})]}),e.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),e.jsxs("button",{onClick:()=>{window.confirm("Bạn có chắc chắn muốn thoát ứng dụng và TẮT SERVER không?")&&(C.post("/api/shutdown").catch(()=>{}),setTimeout(()=>window.close(),500))},className:"flex items-center gap-3 w-full p-3 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/10 text-red-600 font-black text-sm",children:[e.jsx(de,{size:18}),e.jsx("span",{children:"Thoát ứng dụng"})]}),e.jsxs("button",{onClick:H,className:"flex items-center gap-3 w-full p-3 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/10 text-red-600 font-bold text-sm",children:[e.jsx(ue,{size:18}),e.jsx("span",{children:"Đăng xuất"})]})]})]})})]}),e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>g(!0),className:"p-2 rounded-xl text-white/50 hover:bg-white/20 hover:text-white transition-all border border-white/5 hover:border-white/20",title:"Thu gọn menu",children:e.jsx(he,{size:20})})]})]})}),e.jsx(l.main,{layout:!0,id:"main-content",className:k("flex-1 overflow-auto relative z-0 print:overflow-visible print:h-auto print:static selection:bg-primary/10",p?"h-screen":"h-full"),transition:{type:"spring",stiffness:400,damping:35},children:t})]})}const f=({children:t})=>e.jsxs(l.div,{initial:{opacity:0,scale:.96,y:15},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:1.05,y:-15},transition:{duration:.5,ease:[.23,1,.32,1]},className:"w-full h-full flex flex-col relative",style:{willChange:"opacity, transform"},children:[e.jsx(l.div,{initial:{opacity:0,scale:.8},animate:{opacity:0},transition:{duration:.8},className:"absolute inset-0 bg-primary/5 pointer-events-none z-[99]"}),t]});function be(){const[t,s]=n.useState([]);return n.useEffect(()=>{(async()=>{try{const a=await C.get("/api/fonts");s(a.data)}catch(a){console.error("Error fetching fonts for loader",a)}})()},[]),n.useEffect(()=>{if(t.length>0){const r="custom-fonts-style";let a=document.getElementById(r);a||(a=document.createElement("style"),a.id=r,document.head.appendChild(a)),a.innerHTML=t.map(o=>{const i=o.split(".")[0],c=o.toLowerCase().endsWith(".ttf")?"truetype":"opentype";return`
                    @font-face {
                        font-family: '${i}';
                        src: url('/uploads/fonts/${o}') format('${c}');
                        font-display: swap;
                    }
                `}).join(`
`)}},[t]),null}const A=({children:t})=>{const[s]=n.useState(()=>{const r=document.createElement("div");return r.style.zIndex="99999",r});return n.useEffect(()=>(document.body.appendChild(s),()=>{document.body.contains(s)&&document.body.removeChild(s)}),[s]),F.createPortal(t,s)};function ve(){const[t,s]=n.useState([]);return n.useEffect(()=>{const r=a=>{if(a.key==="Escape"){const o=Math.random().toString(36).substr(2,9)+Date.now();s(i=>[...i,o]),setTimeout(()=>{s(i=>i.filter(c=>c!==o))},1e3)}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),e.jsx(A,{children:e.jsx("div",{className:"fixed inset-0 pointer-events-none z-[99999] overflow-hidden flex items-center justify-center",children:e.jsx(w,{children:t.map(r=>e.jsxs(l.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2,filter:"blur(10px)"},className:"absolute",children:[e.jsx("div",{className:"esc-shockwave-circle"}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"esc-indicator",children:[e.jsx("div",{className:"bg-emerald-500 p-1.5 rounded-lg shadow-lg shadow-emerald-500/30",children:e.jsx(me,{size:16,className:"text-white"})}),e.jsx("span",{children:"Escape Pressed"})]})]},r))})})})}const M=({isVisible:t,message:s="Đang tải dữ liệu..."})=>e.jsx(A,{children:e.jsx(w,{children:t&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:[.22,1,.36,1]},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-white/20 dark:bg-slate-950/20 backdrop-blur-[2px]",children:e.jsxs(l.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25,stiffness:200,mass:.8},className:"bg-white/90 dark:bg-slate-900/90 p-8 rounded-[2rem] shadow-2xl border-2 border-[#d4a574]/30 flex flex-col items-center gap-6 max-w-sm w-full mx-4 animate-shimmer-fast",children:[e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx(l.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0 border-t-4 border-r-4 border-transparent border-t-[#4a7c59] border-r-[#2d5016] rounded-full"}),e.jsx(l.div,{animate:{rotate:-360},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute inset-2 border-b-4 border-l-4 border-transparent border-b-[#f4c430] border-l-[#d4a574] rounded-full opacity-60"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(l.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(O,{size:32,className:"text-[#4a7c59]"})})}),[0,1,2].map(r=>e.jsx(l.div,{className:"absolute w-2 h-2 rounded-full bg-[#f4c430]",animate:{x:[0,Math.cos(r*120*Math.PI/180)*40,0],y:[0,Math.sin(r*120*Math.PI/180)*40,0],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:3,repeat:1/0,delay:r*.5,ease:"easeInOut"}},r))]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-[#2d5016] dark:text-[#4a7c59] font-black uppercase tracking-widest text-lg",children:"Lyang POS"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 animate-pulse-smooth",children:[e.jsx(pe,{className:"animate-spin text-[#d4a574]",size:16}),e.jsx("p",{className:"text-[#8b6f47] dark:text-[#d4a574]/80 font-bold text-sm uppercase tracking-tight",children:s})]})]}),e.jsx("div",{className:"w-full h-1 bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:e.jsx(l.div,{className:"h-full bg-gradient-to-r from-[#2d5016] via-[#f4c430] to-[#4a7c59]",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},style:{width:"50%"}})})]})})})}),je=n.lazy(()=>x(()=>import("./Dashboard-C52Jj-OA.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),we=n.lazy(()=>x(()=>import("./POS-Dq1Rq4lQ.js"),__vite__mapDeps([7,1,2,8,9,4,5,6,10,11]))),Ne=n.lazy(()=>x(()=>import("./Purchase-Dk-RNRex.js"),__vite__mapDeps([12,1,2,8,10,4,5,6,11,9]))),_e=n.lazy(()=>x(()=>import("./History-CzRL2BN7.js"),__vite__mapDeps([13,1,2,8,4,5,6,14]))),Ee=n.lazy(()=>x(()=>import("./CashVoucher-BFuItA1x.js"),__vite__mapDeps([15,1,2,8,4,5,6,14]))),ke=n.lazy(()=>x(()=>import("./ProductManager-CwLNtW1F.js"),__vite__mapDeps([16,1,2,10,4,5,6,14]))),Ie=n.lazy(()=>x(()=>import("./PartnerManager-BnEqIrjL.js"),__vite__mapDeps([17,1,2,4,5,6,11,18,9,8,14]))),Se=n.lazy(()=>x(()=>import("./Settings-CesFWRTZ.js"),__vite__mapDeps([19,1,2,4,5,6,14]))),Le=n.lazy(()=>x(()=>import("./Reports-BXNtslca.js"),__vite__mapDeps([20,1,2,18,4,5,6]))),Pe=n.lazy(()=>x(()=>import("./ReportsBoard-WEhfGZgu.js"),__vite__mapDeps([21,1,2,3,6,5]))),De=n.lazy(()=>x(()=>import("./Summary-DMUkPfte.js"),__vite__mapDeps([22,1,2,18,4,5,6]))),Te=n.lazy(()=>x(()=>import("./InvoiceDesigner-Dy4bLYAv.js"),__vite__mapDeps([23,1,9,8,5,6,2]))),ze=n.lazy(()=>x(()=>import("./Welcome-C2irn9kq.js"),__vite__mapDeps([24,1,2,5,6]))),Ce=({children:t})=>JSON.parse(sessionStorage.getItem("user")||"null")?t:e.jsx(W,{to:"/welcome",replace:!0}),Oe=()=>{const t=T();return e.jsx(Ce,{children:e.jsx(ye,{children:e.jsx(n.Suspense,{fallback:e.jsx(M,{isVisible:!0,message:"Đang tải..."}),children:e.jsx(w,{mode:"wait",children:e.jsxs(z,{location:t,children:[e.jsx(m,{path:"/",element:e.jsx(f,{children:e.jsx(je,{})})}),e.jsx(m,{path:"/pos",element:e.jsx(f,{children:e.jsx(we,{})})}),e.jsx(m,{path:"/purchase",element:e.jsx(f,{children:e.jsx(Ne,{})})}),e.jsx(m,{path:"/history",element:e.jsx(f,{children:e.jsx(_e,{})})}),e.jsx(m,{path:"/products",element:e.jsx(f,{children:e.jsx(ke,{})})}),e.jsx(m,{path:"/partners",element:e.jsx(f,{children:e.jsx(Ie,{})})}),e.jsx(m,{path:"/vouchers",element:e.jsx(f,{children:e.jsx(Ee,{})})}),e.jsx(m,{path:"/analysis",element:e.jsx(f,{children:e.jsx(Pe,{})})}),e.jsx(m,{path:"/summary",element:e.jsx(f,{children:e.jsx(De,{})})}),e.jsx(m,{path:"/reports",element:e.jsx(f,{children:e.jsx(Le,{})})}),e.jsx(m,{path:"/invoice-designer",element:e.jsx(f,{children:e.jsx(Te,{})})}),e.jsx(m,{path:"/settings",element:e.jsx(f,{children:e.jsx(Se,{})})})]},t.pathname)})})})})},Ae=()=>(n.useEffect(()=>{const t=()=>{fetch("/api/heartbeat",{method:"POST"}).catch(()=>{})},s=setInterval(t,5e3);return t(),()=>clearInterval(s)},[]),null);function Me(){return e.jsx(J,{features:q,strict:!0,children:e.jsxs(K,{children:[e.jsx(Ae,{}),e.jsx(be,{}),e.jsx(ve,{}),e.jsx(n.Suspense,{fallback:e.jsx(M,{isVisible:!0,message:"Khởi động..."}),children:e.jsxs(z,{children:[e.jsx(m,{path:"/welcome",element:e.jsx(ze,{})}),e.jsx(m,{path:"/*",element:e.jsx(Oe,{})})]})})]})})}G.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(Me,{})}));export{M as L,A as P,Be as a,D as b,k as c,We as d,Fe as e,$e as f,Ke as i};
