import{j as e,a9 as Z,a1 as W,r as x}from"./vendor-C23Namvk.js";import{c as y}from"./index-UsWd1F3S.js";import{P as Y}from"./PrintTemplate-Caxf_GDA.js";import{D as ee}from"./settings-BT5ickwW.js";import{m as H}from"./vendor-framer-DVZK1f_z.js";import{a3 as ae,c as te,a1 as ne,R as ie,W as se,C as oe,N as le,_ as re,a5 as ce,aw as de,ax as he,ay as _e,ad as q,az as ue,aA as be,aB as pe,ap as R,a2 as me,L as ge}from"./vendor-icons-B3K5gD8o.js";import"./vendor-utils-C44aPrMG.js";const xe=[{id:"Sale",label:"BÃ¡n hÃ ng"},{id:"Purchase",label:"Nháº­p hÃ ng"},{id:"Report",label:"BÃ¡o cÃ¡o"}],ve=[{id:"A4",label:"A4 (210mm)"},{id:"A5",label:"A5 (148mm)"},{id:"A6",label:"A6 (105mm)"},{id:"K80",label:"In nhiá»‡t 80mm"},{id:"K58",label:"In nhiá»‡t 58mm"}];function u({label:v,value:s,onChange:p}){return e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-[#8b6f47] dark:text-[#d4a574]/60 uppercase tracking-[0.2em] ml-1",children:v}),e.jsxs("div",{className:"flex items-center gap-3 p-1.5 bg-[#fdfcfb] dark:bg-slate-800 border-2 border-[#d4a574]/20 dark:border-slate-700 rounded-2xl focus-within:border-[#4a7c59] transition-all shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl shadow-inner border-2 border-[#d4a574]/10 flex-shrink-0 relative overflow-hidden group",style:{backgroundColor:s||"#000000"},children:e.jsx("input",{type:"color",value:s||"#000000",onChange:f=>p(f.target.value),className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full scale-150"})}),e.jsx("input",{type:"text",value:s||"#000000",onChange:f=>p(f.target.value),placeholder:"#HEX",className:"flex-1 bg-transparent border-none px-2 py-2 text-xs font-black font-mono dark:text-white outline-none uppercase tracking-widest text-[#8b6f47]"})]})]})}const j={...ee||{},invoice_line_spacing:"1.4",invoice_column_spacing:"10",invoice_orientation:"portrait",invoice_title_size:"22",invoice_table_header_size:"12",invoice_table_content_size:"12",invoice_total_section_size:"14",invoice_total_balance_size:"18",invoice_show_logo:"true",invoice_show_shop_name:"true",invoice_show_address:"true",invoice_show_phone:"true",invoice_show_thank_you:"true",invoice_thank_you_message:"Cáº£m Æ¡n QuÃ½ KhÃ¡ch & Háº¹n Gáº·p Láº¡i!",invoice_show_id:"true",invoice_show_date:"true",invoice_show_customer_info:"true",invoice_show_table:"true",invoice_show_summary:"true",invoice_show_signatures:"true",invoice_show_col_stt:"true",invoice_show_col_name:"true",invoice_show_col_unit_secondary:"true",invoice_show_col_qty:"true",invoice_show_col_price:"true",invoice_show_col_total:"true",invoice_show_total_items:"true",invoice_show_total_qty:"true",invoice_show_old_debt:"true",invoice_show_bank_info:"true",invoice_show_paid:"true",invoice_show_balance:"true",shop_bank:"",shop_bank_account:"",shop_bank_user:"",invoice_header_spacing:"10",invoice_custom_font_url:"",invoice_use_default_margins:"false",invoice_table_border:"true",invoice_table_border_rows:"true",invoice_table_border_cols:"true",invoice_table_border_thickness:"thin",invoice_table_border_style:"solid",invoice_table_header_bg_enabled:"true",invoice_table_header_bg_color:"#f2f2f2",invoice_table_zebra_stripe:"true",invoice_table_zebra_color:"#f9fafb",invoice_color_store_info:"#333333",invoice_color_title:"#000000",invoice_color_customer_info:"#000000",invoice_color_table_header:"#000000",invoice_color_table_body:"#000000",invoice_color_total_label:"#000000",invoice_color_total_value:"#000000",invoice_color_notes:"#555555",invoice_color_footer:"#444444",invoice_total_line_size:"18",invoice_total_line_bold:"true",invoice_total_line_italic:"false",invoice_total_line_margin_top:"10",invoice_total_line_margin_bottom:"10",invoice_margin_top:"10",invoice_margin_bottom:"10",invoice_margin_left:"10",invoice_margin_right:"10",invoice_show_col_code:"true",invoice_show_col_date:"true",invoice_show_col_method:"true",invoice_col_code:"80",invoice_col_date:"80",invoice_col_method:"80"},fe=()=>{const v=W(),[s,p]=x.useState("Sale"),[f,N]=x.useState([]),[d,C]=x.useState(null),[t,w]=x.useState(j),[z,L]=x.useState(!0),[P,m]=x.useState(!1),[ye,c]=x.useState(null),[we,M]=x.useState(null),[T,F]=x.useState("content"),[D,I]=x.useState([]),O=e.jsx("style",{children:Array.isArray(D)&&D.map(a=>`@font-face { font-family: '${a.split(".")[0]}'; src: url('/uploads/fonts/${a}'); }`).join(`
`)}),K=s==="Report"?{id:"RPT-001",date:new Date().toISOString(),partner_name:"KhÃ¡ch hÃ ng Máº«u",partner:{name:"KhÃ¡ch hÃ ng Máº«u",phone:"0901 234 567",address:"123 ÄÆ°á»ng ABC, Quáº­n XYZ, TP.HCM"},type:"Report",details:Array.from({length:15},(a,i)=>({id:`ORD-00${i+1}`,display_id:`DH-00${i+1}`,date:new Date(Date.now()-i*864e5).toISOString(),payment_method:i%3===0?"Debt":"Cash",total_amount:(Math.floor(Math.random()*50)+1)*1e5})),total_amount:55e5,amount_paid:2e6,old_debt:1e6,note:"BÃ¡o cÃ¡o chi tiáº¿t cÃ´ng ná»£"}:{id:"12345",date:new Date().toISOString(),partner_name:"KhÃ¡ch hÃ ng Máº«u",partner:{name:"KhÃ¡ch hÃ ng Máº«u",phone:"0901 234 567",address:"123 ÄÆ°á»ng ABC, Quáº­n XYZ, TP.HCM"},details:Array.from({length:35},(a,i)=>({product_name:`Sáº£n pháº©m máº«u ${i+1}${i===2?" cÃ³ tÃªn ráº¥t dÃ i Ä‘á»ƒ kiá»ƒm tra viá»‡c xuá»‘ng dÃ²ng trong báº£ng hÃ³a Ä‘Æ¡n":""}`,secondary_unit:i%2===0?"ThÃ¹ng":"Há»™p",quantity:Math.floor(Math.random()*20)+1,price:(Math.floor(Math.random()*50)+1)*1e4,unit:i%2===0?"Chai":"CÃ¡i",multiplier:i%2===0?24:10})),total_amount:185e4,cost_price:8e4,amount_paid:1e6,old_debt:25e4,note:"Ghi chÃº máº«u cho hÃ³a Ä‘Æ¡n",type:s==="Purchase"?"Purchase":"Sale"};x.useEffect(()=>{B(),$()},[s]);const B=async(a=null)=>{L(!0);try{const l=await(await fetch(`/api/print-templates?module=${s}`)).json();if(Array.isArray(l))if(N(l),l.length>0){let h=null;if(a&&(h=l.find(_=>_.id===a)),!h){const _=localStorage.getItem(`last_template_${s}`);_&&(h=l.find(g=>g.id===parseInt(_)))}h||(h=l.find(_=>_.is_default)||l[0]),h?E(h):(C(null),w(j))}else C(null),w(j);else console.warn("API returned non-array for templates:",l),N([]),C(null),w(j)}catch(i){console.error("Error fetching templates",i),N([]),C(null),w(j),c({message:"Lá»—i khi táº£i máº«u in!",type:"error"})}finally{L(!1)}},$=async()=>{try{const i=await(await fetch("/api/fonts")).json();Array.isArray(i)?I(i):(console.warn("API returned non-array for fonts:",i),I([]))}catch(a){console.error("Error fetching fonts",a),I([]),c({message:"Lá»—i khi táº£i font chá»¯!",type:"error"})}},E=a=>{C(a),a?.id&&localStorage.setItem(`last_template_${s}`,a.id);try{let i=a.config;if(typeof i=="string")try{i=JSON.parse(i)}catch(l){console.error("Invalid JSON config",l),i={}}w({...j,...i||{}})}catch(i){console.error("Error setting template",i),w({...j}),c({message:"Lá»—i khi táº£i cáº¥u hÃ¬nh máº«u!",type:"error"})}},G=async()=>{m(!0);try{const a={name:d?.name||`Máº«u ${s} má»›i`,module:s,config:t,is_default:d?.is_default||!1};let i;if(d?.id?i=await fetch(`/api/print-templates/${d.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}):i=await fetch("/api/print-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i.ok){const l=await i.json();N(h=>{const _=h.findIndex(g=>g.id===l.id);if(_>=0){const g=[...h];return g[_]=l,g}else return[...h,l]}),E(l),c({message:"ÄÃ£ lÆ°u thiáº¿t káº¿ thÃ nh cÃ´ng!",type:"success"})}else{const l=await i.text();console.error("Save failed with status:",i.status,l),c({message:`Lá»—i khi lÆ°u máº«u in (${i.status}): ${l}`,type:"error"})}}catch(a){console.error("Save error:",a),c({message:"ÄÃ£ xáº£y ra lá»—i khi lÆ°u: "+a.message,type:"error"})}finally{m(!1)}},U=()=>{M({title:"Äá»“ng bá»™ thÃ´ng tin shop",message:"HÃ nh Ä‘á»™ng nÃ y sáº½ cáº­p nháº­t TÃªn Shop, Äá»‹a chá»‰, SÄT vÃ  STK ngÃ¢n hÃ ng tá»« CÃ i Äáº·t Há»‡ Thá»‘ng cho Táº¤T Cáº¢ cÃ¡c máº«u in (BÃ¡n hÃ ng, Nháº­p hÃ ng, Phiáº¿u Chi...). Tiáº¿p tá»¥c?",onConfirm:async()=>{m(!0);try{const i=await(await fetch("/api/settings")).json();if(!i.shop_name){c({message:"ChÆ°a cÃ³ thÃ´ng tin shop trong CÃ i Ä‘áº·t!",type:"info"}),M(null),m(!1);return}const _=(await(await fetch("/api/print-templates")).json()).map(async g=>{let k=g.config;if(typeof k=="string")try{k=JSON.parse(k)}catch{k={}}const A={...k||{},shop_name:i.shop_name||"",shop_address:i.shop_address||"",shop_phone:i.shop_phone||"",shop_bank:i.shop_bank||"",shop_bank_account:i.shop_bank_account||"",shop_bank_user:i.shop_bank_user||""};return fetch(`/api/print-templates/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...g,config:A})})});if(await Promise.all(_),d){const k=await(await fetch(`/api/print-templates?module=${s}`)).json();N(k);const A=k.find(S=>S.id===d.id);if(A){C(A);let S=A.config;typeof S=="string"&&(S=JSON.parse(S)),w({...j,...S})}}c({message:"ÄÃ£ Ä‘á»“ng bá»™ thÃ´ng tin shop thÃ nh cÃ´ng cho toÃ n bá»™ máº«u!",type:"success"})}catch(a){console.error("Error syncing shop info:",a),c({message:"Lá»—i khi Ä‘á»“ng bá»™ thÃ´ng tin shop!",type:"error"})}finally{m(!1),M(null)}},type:"info"})},V=()=>{const a=prompt("Nháº­p tÃªn máº«u má»›i:");a&&(C({name:a,is_default:!1,config:j}),w(j),c({message:`ÄÃ£ táº¡o máº«u má»›i: "${a}". HÃ£y lÆ°u láº¡i!`,type:"info"}))},X=()=>{if(!d?.id){c({message:"KhÃ´ng cÃ³ máº«u nÃ o Ä‘á»ƒ xÃ³a.",type:"warning"});return}M({title:"XÃ¡c nháº­n xÃ³a máº«u",message:`Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a máº«u "${d.name}"?`,onConfirm:async()=>{m(!0);try{const a=await fetch(`/api/print-templates/${d.id}`,{method:"DELETE"});if(a.ok)localStorage.getItem(`last_template_${s}`)==d.id&&localStorage.removeItem(`last_template_${s}`),await B(),c({message:`ÄÃ£ xÃ³a máº«u "${d.name}" thÃ nh cÃ´ng!`,type:"success"});else{const i=await a.text();c({message:`Lá»—i khi xÃ³a máº«u (${a.status}): ${i}`,type:"error"})}}catch(a){console.error("Error deleting template",a),c({message:"Lá»—i khi xÃ³a máº«u!",type:"error"})}finally{m(!1),M(null)}},type:"danger"})},n=(a,i)=>{w(l=>({...l,[a]:i})),a==="ui_show_doraemon"&&(localStorage.setItem("ui_show_doraemon",i),window.dispatchEvent(new Event("storage")))},J=async a=>{const i=a.target.files[0];if(!i)return;m(!0);const l=new FormData;l.append("file",i);try{const _=await(await fetch("/api/upload-logo",{method:"POST",body:l})).json();_.url?(n("invoice_logo_url",_.url),c({message:"Logo Ä‘Ã£ Ä‘Æ°á»£c táº£i lÃªn thÃ nh cÃ´ng!",type:"success"})):c({message:"Lá»—i táº£i logo: KhÃ´ng nháº­n Ä‘Æ°á»£c URL.",type:"error"})}catch(h){console.error("Error uploading logo",h),c({message:"Lá»—i táº£i logo!",type:"error"})}finally{m(!1)}},Q=async a=>{const i=a.target.files[0];if(!i)return;m(!0);const l=new FormData;l.append("file",i);try{const _=await(await fetch("/api/fonts",{method:"POST",body:l})).json();_.filename?($(),n("invoice_custom_font_name",_.filename),c({message:`Font "${_.filename}" Ä‘Ã£ Ä‘Æ°á»£c táº£i lÃªn thÃ nh cÃ´ng!`,type:"success"})):c({message:"Lá»—i táº£i font: KhÃ´ng nháº­n Ä‘Æ°á»£c tÃªn file.",type:"error"})}catch(h){console.error("Error uploading font",h),c({message:"Lá»—i táº£i font!",type:"error"})}finally{m(!1)}};return e.jsxs("div",{className:"flex bg-[#fdfcfb] dark:bg-[#0f172a] min-h-screen",children:[O,e.jsx("div",{className:"w-[420px] border-r-2 border-[#d4a574]/10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl overflow-y-auto h-screen sticky top-0 custom-scrollbar shadow-[20px_0_40px_-15px_rgba(0,0,0,0.05)] z-20",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex flex-col gap-6 mb-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-black text-[#2d5016] dark:text-[#4a7c59] flex items-center gap-3 uppercase tracking-tighter",children:[e.jsx(H.button,{whileHover:{scale:1.1,x:-3},whileTap:{scale:.9},onClick:()=>v("/pos"),className:"mr-1 p-2 bg-white dark:bg-slate-800 text-[#8b6f47] dark:text-[#d4a574] rounded-2xl shadow-md border-2 border-[#d4a574]/20 hover:border-[#2d5016] dark:hover:border-[#4a7c59] hover:text-[#2d5016] dark:hover:text-[#4a7c59] transition-all",title:"Quay láº¡i bÃ¡n hÃ ng",children:e.jsx(ae,{size:20,strokeWidth:3})}),e.jsx("div",{className:"p-2 bg-gradient-to-br from-[#2d5016] to-[#4a7c59] rounded-2xl text-white shadow-lg shadow-[#4a7c59]/20",children:e.jsx(te,{size:28})}),"Thiáº¿t káº¿ Báº£n in"]}),e.jsx("button",{onClick:G,disabled:P||z,className:"p-3 bg-gradient-to-r from-[#2d5016] to-[#4a7c59] text-white rounded-[1.25rem] hover:shadow-2xl hover:shadow-[#4a7c59]/40 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed border-2 border-white/20",title:"LÆ°u thay Ä‘á»•i",children:e.jsx(ne,{size:24})})]}),e.jsxs("button",{onClick:U,disabled:P||z,className:"w-full px-6 py-4 bg-[#d4a574]/10 dark:bg-[#d4a574]/5 text-[#8b6f47] dark:text-[#d4a574] rounded-[1.5rem] text-[10px] font-black uppercase tracking-[0.2em] hover:bg-[#d4a574]/20 transition-all border-2 border-[#d4a574]/20 flex items-center justify-center gap-3",title:"Äá»“ng bá»™ thÃ´ng tin shop tá»« CÃ i Ä‘áº·t há»‡ thá»‘ng cho TOÃ€N Bá»˜ cÃ¡c máº«u",children:[e.jsx(ie,{size:16,className:P?"animate-spin":""}),"Äá»“ng bá»™ thÃ´ng tin Trang tráº¡i"]})]}),e.jsx("div",{className:"flex bg-[#d4a574]/10 dark:bg-slate-800/40 p-1.5 rounded-[1.5rem] border-2 border-[#d4a574]/20 backdrop-blur-md mb-8",children:xe.map(a=>e.jsx("button",{onClick:()=>p(a.id),className:y("flex-1 py-3 px-2 rounded-[1rem] text-[10px] font-black tracking-widest uppercase transition-all duration-300",s===a.id?"bg-gradient-to-r from-[#2d5016] to-[#4a7c59] text-white shadow-xl":"text-[#8b6f47] hover:bg-[#d4a574]/10"),children:a.label},a.id))}),e.jsxs("div",{className:"mb-10 p-6 bg-[#fdfcfb] dark:bg-slate-800/50 rounded-[2rem] border-2 border-[#d4a574]/20 shadow-inner",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#8b6f47] mb-4 block ml-1 flex items-center gap-2",children:[e.jsx(se,{size:14})," Máº«u thiáº¿t káº¿ vá»¥ mÃ¹a"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsxs("select",{className:"w-full bg-white dark:bg-slate-800 border-2 border-[#d4a574]/10 rounded-2xl px-5 py-4 text-sm font-black appearance-none outline-none focus:border-[#4a7c59] transition-all dark:text-white shadow-sm",value:d?.id||"",onChange:a=>{const i=f.find(l=>l.id===parseInt(a.target.value));i&&E(i)},disabled:z,children:[Array.isArray(f)&&f.map(a=>e.jsxs("option",{value:a.id,children:[a.name," ",a.is_default?"(Máº·c Ä‘á»‹nh)":""]},a.id)),!d?.id&&d&&e.jsx("option",{value:"",children:d.name}),f.length===0&&!d&&e.jsx("option",{value:"",children:"ChÆ°a cÃ³ máº«u nÃ o"})]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-[#8b6f47]",children:e.jsx(oe,{size:18})})]}),e.jsx("button",{onClick:V,disabled:z,className:"p-4 bg-white dark:bg-slate-800 text-[#4a7c59] border-2 border-[#4a7c59]/20 rounded-2xl hover:bg-[#4a7c59] hover:text-white transition-all disabled:opacity-50 shadow-sm active:scale-95",title:"ThÃªm máº«u má»›i",children:e.jsx(le,{size:24})})]}),d?.id&&e.jsxs("button",{onClick:X,disabled:P||z,className:"mt-4 w-full py-3 bg-white dark:bg-slate-800 text-rose-400 border-2 border-rose-100 dark:border-rose-900/30 rounded-2xl hover:bg-rose-500 hover:text-white transition-all disabled:opacity-50 text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 shadow-sm",children:[e.jsx(re,{size:16})," XÃ³a thiáº¿t káº¿ nÃ y"]})]}),e.jsx("div",{className:"flex bg-[#d4a574]/5 dark:bg-slate-800/40 p-1 rounded-[2rem] border-2 border-[#d4a574]/10 mb-8 sticky top-0 backdrop-blur-md z-30",children:[{id:"content",icon:ce,label:"Ná»˜I DUNG"},{id:"layout",icon:de,label:"Bá» Cá»¤C"},{id:"fonts",icon:he,label:"FONT CHá»®"},{id:"table",icon:_e,label:"Báº¢NG"}].map(a=>e.jsxs("button",{onClick:()=>F(a.id),className:y("flex-1 flex flex-col items-center gap-1.5 py-4 transition-all relative rounded-[1.5rem]",T===a.id?"bg-white dark:bg-slate-700 text-[#4a7c59] shadow-lg shadow-black/5":"text-[#8b6f47]/60 hover:text-[#4a7c59]"),children:[e.jsx(a.icon,{size:22,className:T===a.id?"scale-110 transition-transform":""}),e.jsx("span",{className:"text-[9px] font-black tracking-widest",children:a.label}),T===a.id&&e.jsx(H.div,{layoutId:"activeTabDesign",className:"absolute inset-0 bg-white dark:bg-slate-700 rounded-[1.5rem] -z-10 shadow-sm border border-[#d4a574]/20"})]},a.id))}),e.jsxs("div",{className:"space-y-6 pb-20",children:[T==="content"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsxs(b,{title:"ThÃ´ng tin Cá»­a hÃ ng",children:[e.jsx(r,{label:"TÃªn cá»­a hÃ ng",value:t.shop_name,onChange:a=>n("shop_name",a)}),e.jsx(r,{label:"Äá»‹a chá»‰",value:t.shop_address,onChange:a=>n("shop_address",a)}),e.jsx(r,{label:"Sá»‘ Ä‘iá»‡n thoáº¡i",value:t.shop_phone,onChange:a=>n("shop_phone",a)}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(r,{label:"NgÃ¢n hÃ ng",value:t.shop_bank,onChange:a=>n("shop_bank",a),placeholder:"VÃ­ dá»¥: MB Bank"}),e.jsx(r,{label:"Sá»‘ tÃ i khoáº£n",value:t.shop_bank_account,onChange:a=>n("shop_bank_account",a),placeholder:"0123456789"})]}),e.jsx(r,{label:"Chá»§ tÃ i khoáº£n",value:t.shop_bank_user,onChange:a=>n("shop_bank_user",a),placeholder:"NGUYEN VAN A"}),e.jsxs("div",{className:"border-t dark:border-slate-800 my-4 pt-4 space-y-3",children:[e.jsx(o,{label:"Hiá»‡n Logo",checked:t.invoice_show_logo==="true",onChange:a=>n("invoice_show_logo",a?"true":"false")}),t.invoice_show_logo==="true"&&e.jsxs("div",{className:"mt-2 ml-6",children:[e.jsx("input",{type:"file",id:"logo-upload",className:"hidden",accept:"image/*",onChange:J}),e.jsxs("label",{htmlFor:"logo-upload",className:"flex items-center gap-2 text-xs font-bold text-primary cursor-pointer hover:underline",children:[e.jsx(q,{size:14})," Táº£i logo lÃªn"]})]}),e.jsx(o,{label:"Hiá»‡n TÃªn cá»­a hÃ ng",checked:t.invoice_show_shop_name==="true",onChange:a=>n("invoice_show_shop_name",a?"true":"false")}),e.jsx(o,{label:"Hiá»‡n Äá»‹a chá»‰",checked:t.invoice_show_address==="true",onChange:a=>n("invoice_show_address",a?"true":"false")}),e.jsx(o,{label:"Hiá»‡n Sá»‘ Ä‘iá»‡n thoáº¡i",checked:t.invoice_show_phone==="true",onChange:a=>n("invoice_show_phone",a?"true":"false")}),e.jsx(o,{label:"Hiá»‡n STK NgÃ¢n hÃ ng",checked:t.invoice_show_bank_info==="true",onChange:a=>n("invoice_show_bank_info",a?"true":"false")})]})]}),e.jsxs(b,{title:"Viá»n & Ná»n TiÃªu Ä‘á»",children:[e.jsx("div",{className:"p-3 bg-primary/5 rounded-2xl mb-4 border border-primary/10",children:e.jsxs("p",{className:"text-[10px] text-primary/60 font-medium leading-relaxed italic",children:["ðŸ’¡ Báº¡n cÃ³ thá»ƒ click trá»±c tiáº¿p vÃ o ",e.jsx("strong",{className:"text-primary underline",children:"TiÃªu Ä‘á» (HÃ“A ÄÆ N...)"})," trÃªn báº£n xem trÆ°á»›c Ä‘á»ƒ báº­t/táº¯t nhanh hiá»‡u á»©ng nÃ y."]})}),e.jsx(o,{label:"Sá»­ dá»¥ng viá»n (Badge)",checked:t.invoice_title_badge==="true",onChange:a=>n("invoice_title_badge",a?"true":"false")}),t.invoice_title_badge==="true"&&e.jsxs("div",{className:"mt-4 space-y-4 pt-4 border-t dark:border-slate-800 animate-in slide-in-from-top-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(u,{label:"MÃ u ná»n",value:t.invoice_title_badge_bg,onChange:a=>n("invoice_title_badge_bg",a)}),e.jsx(u,{label:"MÃ u viá»n",value:t.invoice_title_badge_border,onChange:a=>n("invoice_title_badge_border",a)})]}),e.jsx(u,{label:"MÃ u chá»¯",value:t.invoice_title_badge_text_color,onChange:a=>n("invoice_title_badge_text_color",a)})]})]}),e.jsxs(b,{title:"ThÃ´ng tin hÃ³a Ä‘Æ¡n",children:[e.jsx(o,{label:"MÃ£ hÃ³a Ä‘Æ¡n",checked:t.invoice_show_id==="true",onChange:a=>n("invoice_show_id",a?"true":"false")}),e.jsx(o,{label:"NgÃ y giá» in",checked:t.invoice_show_date==="true",onChange:a=>n("invoice_show_date",a?"true":"false")}),e.jsx(o,{label:"ThÃ´ng tin Ä‘á»‘i tÃ¡c",checked:t.invoice_show_customer_info==="true",onChange:a=>n("invoice_show_customer_info",a?"true":"false")})]}),e.jsxs(b,{title:"ChÃ¢n trang & Ghi chÃº",children:[e.jsx(o,{label:"Hiá»‡n 'Cáº£m Æ¡n quÃ½ khÃ¡ch'",checked:t.invoice_show_thank_you==="true",onChange:a=>n("invoice_show_thank_you",a?"true":"false")}),t.invoice_show_thank_you==="true"&&e.jsx(r,{label:"Ná»™i dung lá»i cáº£m Æ¡n",value:t.invoice_thank_you_message,onChange:a=>n("invoice_thank_you_message",a)}),e.jsxs("div",{className:"border-t dark:border-slate-800 my-4 pt-4 space-y-3",children:[e.jsx(o,{label:"Hiá»‡n Tá»•ng tiá»n",checked:t.invoice_show_total_amount==="true",onChange:a=>n("invoice_show_total_amount",a?"true":"false")}),e.jsx(o,{label:"Hiá»‡n Ghi chÃº",checked:t.invoice_show_notes==="true",onChange:a=>n("invoice_show_notes",a?"true":"false")}),e.jsx(o,{label:"Hiá»‡n Chá»¯ kÃ½",checked:t.invoice_show_signatures==="true",onChange:a=>n("invoice_show_signatures",a?"true":"false")})]})]})]}),T==="layout"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsx(b,{title:"Khá»• giáº¥y",children:e.jsx("div",{className:"grid grid-cols-1 gap-2",children:ve.map(a=>e.jsxs("button",{onClick:()=>n("paper_size",a.id),className:y("px-4 py-3 rounded-xl text-left font-bold text-sm border flex items-center justify-between transition-all",t.paper_size===a.id?"bg-primary/5 text-primary border-primary":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700 hover:border-primary/50"),children:[a.label,t.paper_size===a.id&&e.jsx(ue,{size:16})]},a.id))})}),e.jsx(b,{title:"Äá»‹nh dáº¡ng",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"HÆ°á»›ng in"}),e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>n("invoice_orientation","portrait"),className:y("flex-1 py-2 rounded-lg text-xs font-bold transition-all",t.invoice_orientation==="portrait"?"bg-white dark:bg-slate-700 shadow-sm text-primary":"text-slate-400"),children:"Dá»c"}),e.jsx("button",{onClick:()=>n("invoice_orientation","landscape"),className:y("flex-1 py-2 rounded-lg text-xs font-bold transition-all",t.invoice_orientation==="landscape"?"bg-white dark:bg-slate-700 shadow-sm text-primary":"text-slate-400"),children:"Ngang"})]})]}),e.jsx(r,{label:"CÃ¡ch dÃ²ng",value:t.invoice_line_spacing,onChange:a=>n("invoice_line_spacing",a),type:"number",step:"0.1"})]})}),e.jsxs(b,{title:"CÃ¡ch lá»",children:[e.jsx(o,{label:"DÃ¹ng lá» máº·c Ä‘á»‹nh mÃ¡y in",checked:t.invoice_use_default_margins==="true",onChange:a=>n("invoice_use_default_margins",a?"true":"false")}),e.jsx("p",{className:"text-[10px] text-slate-400 italic mb-2",children:"Táº¯t Ä‘á»ƒ tÃ¹y chá»‰nh lá» thá»§ cÃ´ng (mm)"}),e.jsxs("div",{className:y("grid grid-cols-2 gap-4 transition-all",t.invoice_use_default_margins==="true"&&"opacity-30 pointer-events-none"),children:[e.jsx(r,{label:"TrÃªn",value:t.invoice_margin_top,onChange:a=>n("invoice_margin_top",a),type:"number"}),e.jsx(r,{label:"DÆ°á»›i",value:t.invoice_margin_bottom,onChange:a=>n("invoice_margin_bottom",a),type:"number"}),e.jsx(r,{label:"TrÃ¡i",value:t.invoice_margin_left,onChange:a=>n("invoice_margin_left",a),type:"number"}),e.jsx(r,{label:"Pháº£i",value:t.invoice_margin_right,onChange:a=>n("invoice_margin_right",a),type:"number"})]})]})]}),T==="fonts"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsxs(b,{title:"Font máº·c Ä‘á»‹nh",children:[e.jsxs("select",{className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-sm dark:text-white",value:t.invoice_font_family,onChange:a=>n("invoice_font_family",a.target.value),children:[e.jsx("option",{value:"'Be Vietnam Pro', sans-serif",children:"Be Vietnam Pro (Google Font)"}),e.jsx("option",{value:"Inter, sans-serif",children:"Inter (Máº·c Ä‘á»‹nh)"}),e.jsx("option",{value:"'Roboto', sans-serif",children:"Roboto"}),e.jsx("option",{value:"'Courier New', Courier, monospace",children:"Courier New (MÃ¡y in kim)"}),e.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),e.jsx("option",{value:"'Times New Roman', Times, serif",children:"Times New Roman"}),Array.isArray(D)&&D.map(a=>e.jsx("option",{value:`'${a.split(".")[0]}', sans-serif`,children:a},a))]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{type:"file",id:"font-upload",className:"hidden",accept:".ttf,.otf",onChange:Q}),e.jsxs("label",{htmlFor:"font-upload",className:"flex items-center justify-center gap-2 py-3 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl text-slate-400 hover:text-primary hover:border-primary transition-all cursor-pointer text-xs font-bold",children:[e.jsx(q,{size:16})," Táº£i font tÃ¹y chá»‰nh (.ttf, .otf)"]})]})]}),e.jsx(b,{title:"KÃ­ch cá»¡ chá»¯ (px)",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"TiÃªu Ä‘á»",value:t.invoice_title_size,onChange:a=>n("invoice_title_size",a),type:"number"}),e.jsx(r,{label:"TÃªn cá»­a hÃ ng",value:t.invoice_store_name_size,onChange:a=>n("invoice_store_name_size",a),type:"number"}),e.jsx(r,{label:"Heder báº£ng",value:t.invoice_table_header_size,onChange:a=>n("invoice_table_header_size",a),type:"number"}),e.jsx(r,{label:"Ná»™i dung báº£ng",value:t.invoice_table_content_size,onChange:a=>n("invoice_table_content_size",a),type:"number"}),e.jsx(r,{label:"Tá»•ng tiá»n",value:t.invoice_total_section_size,onChange:a=>n("invoice_total_section_size",a),type:"number"}),e.jsx(r,{label:"CÃ²n láº¡i (ná»•i báº­t)",value:t.invoice_total_balance_size,onChange:a=>n("invoice_total_balance_size",a),type:"number"})]})})]}),T==="table"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsxs(b,{title:"Cá»™t hiá»ƒn thá»‹",children:[e.jsx(o,{label:"STT",checked:t.invoice_show_col_stt==="true",onChange:a=>n("invoice_show_col_stt",a?"true":"false")}),s==="Report"?e.jsxs(e.Fragment,{children:[e.jsx(o,{label:"MÃ£ ÄÆ¡n",checked:t.invoice_show_col_code==="true",onChange:a=>n("invoice_show_col_code",a?"true":"false")}),e.jsx(o,{label:"NgÃ y",checked:t.invoice_show_col_date==="true",onChange:a=>n("invoice_show_col_date",a?"true":"false")}),e.jsx(o,{label:"PTTT",checked:t.invoice_show_col_method==="true",onChange:a=>n("invoice_show_col_method",a?"true":"false")})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{label:"TÃªn sáº£n pháº©m",checked:t.invoice_show_col_name==="true",onChange:a=>n("invoice_show_col_name",a?"true":"false")}),e.jsx(o,{label:"ÄÆ¡n vá»‹ tÃ­nh (ÄVT)",checked:t.invoice_show_col_unit==="true",onChange:a=>n("invoice_show_col_unit",a?"true":"false")}),e.jsx(o,{label:"Sá»‘ lÆ°á»£ng",checked:t.invoice_show_col_qty==="true",onChange:a=>n("invoice_show_col_qty",a?"true":"false")}),e.jsx(o,{label:"ÄÆ¡n giÃ¡",checked:t.invoice_show_col_price==="true",onChange:a=>n("invoice_show_col_price",a?"true":"false")})]}),e.jsx(o,{label:"ThÃ nh tiá»n",checked:t.invoice_show_col_total==="true",onChange:a=>n("invoice_show_col_total",a?"true":"false")})]}),e.jsx(b,{title:"MÃ u Sáº¯c & ThÆ°Æ¡ng Hiá»‡u",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(u,{label:"ThÃ´ng tin shop",value:t.invoice_color_store_info,onChange:a=>n("invoice_color_store_info",a)}),e.jsx(u,{label:"TiÃªu Ä‘á» máº«u in",value:t.invoice_color_title,onChange:a=>n("invoice_color_title",a)}),e.jsx(u,{label:"ThÃ´ng tin khÃ¡ch",value:t.invoice_color_customer_info,onChange:a=>n("invoice_color_customer_info",a)}),e.jsx(u,{label:"TiÃªu Ä‘á» báº£ng",value:t.invoice_color_table_header,onChange:a=>n("invoice_color_table_header",a)}),e.jsx(u,{label:"Ná»™i dung hÃ ng",value:t.invoice_color_table_body,onChange:a=>n("invoice_color_table_body",a)}),e.jsx(u,{label:"Ghi chÃº / KhÃ¡c",value:t.invoice_color_notes,onChange:a=>n("invoice_color_notes",a)})]})}),e.jsxs(b,{title:"Kiá»ƒu dÃ¡ng Báº£ng",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Äá»™ dÃ y viá»n"}),e.jsxs("select",{className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 text-sm dark:text-white outline-none",value:t.invoice_table_border_thickness,onChange:a=>n("invoice_table_border_thickness",a.target.value),children:[e.jsx("option",{value:"thin",children:"Má»ng (1px)"}),e.jsx("option",{value:"medium",children:"Vá»«a (2px)"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Kiá»ƒu nÃ©t"}),e.jsxs("select",{className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 text-sm dark:text-white outline-none",value:t.invoice_table_border_style,onChange:a=>n("invoice_table_border_style",a.target.value),children:[e.jsx("option",{value:"solid",children:"NÃ©t liá»n"}),e.jsx("option",{value:"dashed",children:"NÃ©t Ä‘á»©t"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{label:"Viá»n toÃ n báº£ng",checked:t.invoice_table_border==="true",onChange:a=>n("invoice_table_border",a?"true":"false")}),e.jsx(o,{label:"Viá»n dÃ²ng",checked:t.invoice_table_border_rows==="true",onChange:a=>n("invoice_table_border_rows",a?"true":"false")}),e.jsx(o,{label:"Viá»n cá»™t",checked:t.invoice_table_border_cols==="true",onChange:a=>n("invoice_table_border_cols",a?"true":"false")}),e.jsxs("div",{className:"border-t dark:border-slate-800 pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-[10px] font-black text-primary/60 uppercase tracking-widest block",children:"Viá»n Header Báº£ng"}),e.jsx(o,{label:"Bo trÃ²n (Badge)",checked:t.invoice_table_header_is_badge==="true",onChange:a=>n("invoice_table_header_is_badge",a?"true":"false")})]}),t.invoice_table_header_is_badge==="true"?e.jsxs("div",{className:"mt-3 space-y-4 pl-4 border-l-2 border-primary/20 animate-in slide-in-from-left-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(u,{label:"MÃ u ná»n",value:t.invoice_table_header_badge_bg,onChange:a=>n("invoice_table_header_badge_bg",a)}),e.jsx(u,{label:"MÃ u viá»n",value:t.invoice_table_header_badge_border,onChange:a=>n("invoice_table_header_badge_border",a)})]}),e.jsx(u,{label:"MÃ u chá»¯",value:t.invoice_table_header_badge_text_color,onChange:a=>n("invoice_table_header_badge_text_color",a)})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{label:"Sá»­ dá»¥ng viá»n Header riÃªng",checked:t.invoice_table_header_border==="true",onChange:a=>n("invoice_table_header_border",a?"true":"false")}),t.invoice_table_header_border==="true"&&e.jsx("div",{className:"mt-3 space-y-3 pl-4 border-l-2 border-primary/20 animate-in slide-in-from-left-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(u,{label:"MÃ u viá»n",value:t.invoice_table_header_border_color,onChange:a=>n("invoice_table_header_border_color",a)}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Äá»™ dÃ y (px)"}),e.jsx("input",{type:"number",min:"1",max:"10",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 text-sm dark:text-white outline-none",value:t.invoice_table_header_border_width,onChange:a=>n("invoice_table_header_border_width",a.target.value)})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{label:"Ná»n tiÃªu Ä‘á»",checked:t.invoice_table_header_bg_enabled==="true",onChange:a=>n("invoice_table_header_bg_enabled",a?"true":"false")}),t.invoice_table_header_bg_enabled==="true"&&e.jsx(u,{label:"MÃ u ná»n tiÃªu Ä‘á»",value:t.invoice_table_header_bg_color,onChange:a=>n("invoice_table_header_bg_color",a)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{label:"Káº» Zebra",checked:t.invoice_table_zebra_stripe==="true",onChange:a=>n("invoice_table_zebra_stripe",a?"true":"false")}),t.invoice_table_zebra_stripe==="true"&&e.jsx(u,{label:"MÃ u Zebra",value:t.invoice_table_zebra_color,onChange:a=>n("invoice_table_zebra_color",a)})]})]}),e.jsxs("div",{className:"border-t dark:border-slate-700 my-2 pt-2 space-y-3",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase block",children:"Quy cÃ¡ch quy Ä‘á»•i (Secondary Qty)"}),e.jsx(o,{label:"Cá»™t Sá»‘ lÆ°á»£ng quy Ä‘á»•i",checked:t.invoice_show_secondary_qty==="true",onChange:a=>n("invoice_show_secondary_qty",a?"true":"false")}),t.invoice_show_secondary_qty==="true"&&e.jsxs("div",{className:"pl-4 space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400",children:"Äá»™ rá»™ng cá»™t quy Ä‘á»•i (px)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"range",min:"40",max:"250",step:"1",value:t.invoice_col_secondary_qty_width,onChange:a=>n("invoice_col_secondary_qty_width",a.target.value),className:"flex-1 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsx("span",{className:"text-xs font-mono w-8",children:t.invoice_col_secondary_qty_width})]})]}),e.jsx(o,{label:"DÃ²ng Tá»•ng cá»™ng quy Ä‘á»•i",checked:t.invoice_show_total_secondary_qty==="true",onChange:a=>n("invoice_show_total_secondary_qty",a?"true":"false")}),(t.invoice_show_total_items==="true"||t.invoice_show_total_qty==="true"||t.invoice_show_total_secondary_qty==="true")&&e.jsxs("div",{className:"pl-4 space-y-2 border-t dark:border-slate-700 pt-2 pb-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400",children:"Cá»¡ chá»¯ dÃ²ng Tá»•ng (px)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"range",min:"8",max:"24",step:"1",value:t.invoice_total_summary_font_size,onChange:a=>n("invoice_total_summary_font_size",a.target.value),className:"flex-1 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsx("span",{className:"text-xs font-mono w-8",children:t.invoice_total_summary_font_size})]})]})]})]})]}),e.jsxs(b,{title:"Tá»•ng há»£p (ChÃ¢n báº£ng)",children:[e.jsx(o,{label:"Tá»•ng sá»‘ máº·t hÃ ng (dÃ²ng)",checked:t.invoice_show_total_items==="true",onChange:a=>n("invoice_show_total_items",a?"true":"false")}),e.jsx(o,{label:"Tá»•ng sá»‘ lÆ°á»£ng",checked:t.invoice_show_total_qty==="true",onChange:a=>n("invoice_show_total_qty",a?"true":"false")})]}),(s==="Sale"||s==="Purchase"||s==="Report")&&e.jsxs(b,{title:`Pháº§n Tá»•ng cá»™ng (${s==="Sale"?"BÃ¡n hÃ ng":s==="Purchase"?"Nháº­p hÃ ng":"BÃ¡o cÃ¡o"})`,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsx(u,{label:"MÃ u Chá»¯ NhÃ£n",value:t.invoice_color_total_label,onChange:a=>n("invoice_color_total_label",a)}),e.jsx(u,{label:"MÃ u Chá»¯ Sá»‘",value:t.invoice_color_total_value,onChange:a=>n("invoice_color_total_value",a)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Cá»¡ chá»¯ (px)"}),e.jsx("input",{type:"number",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 text-sm dark:text-white outline-none",value:t.invoice_total_line_size,onChange:a=>n("invoice_total_line_size",a.target.value)})]}),e.jsxs("div",{className:"flex gap-2 items-end pb-1",children:[e.jsx("button",{onClick:()=>n("invoice_total_line_bold",t.invoice_total_line_bold==="true"?"false":"true"),className:y("p-2 rounded-lg border transition-all",t.invoice_total_line_bold==="true"?"bg-primary/10 border-primary text-primary":"border-slate-200 text-slate-400"),children:e.jsx(be,{size:16})}),e.jsx("button",{onClick:()=>n("invoice_total_line_italic",t.invoice_total_line_italic==="true"?"false":"true"),className:y("p-2 rounded-lg border transition-all",t.invoice_total_line_italic==="true"?"bg-primary/10 border-primary text-primary":"border-slate-200 text-slate-400"),children:e.jsx(pe,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Lá» trÃªn (px)"}),e.jsx("input",{type:"number",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 text-sm dark:text-white outline-none",value:t.invoice_total_line_margin_top,onChange:a=>n("invoice_total_line_margin_top",a.target.value)})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Lá» dÆ°á»›i (px)"}),e.jsx("input",{type:"number",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-2 text-sm dark:text-white outline-none",value:t.invoice_total_line_margin_bottom,onChange:a=>n("invoice_total_line_margin_bottom",a.target.value)})]})]}),e.jsx(o,{label:"Ná»£ cÅ©",checked:t.invoice_show_old_debt==="true",onChange:a=>n("invoice_show_old_debt",a?"true":"false")}),e.jsx(o,{label:"Thanh toÃ¡n",checked:t.invoice_show_paid==="true",onChange:a=>n("invoice_show_paid",a?"true":"false")}),e.jsx(o,{label:"CÃ²n láº¡i",checked:t.invoice_show_balance==="true",onChange:a=>n("invoice_show_balance",a?"true":"false")})]}),e.jsx(b,{title:"Äá»™ rá»™ng cá»™t (px)",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"STT",value:t.invoice_col_stt,onChange:a=>n("invoice_col_stt",a),type:"number"}),s==="Report"?e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"MÃ£ ÄÆ¡n",value:t.invoice_col_code,onChange:a=>n("invoice_col_code",a),type:"number"}),e.jsx(r,{label:"NgÃ y",value:t.invoice_col_date,onChange:a=>n("invoice_col_date",a),type:"number"}),e.jsx(r,{label:"PTTT",value:t.invoice_col_method,onChange:a=>n("invoice_col_method",a),type:"number"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"TÃªn sáº£n pháº©m",value:t.invoice_col_name,onChange:a=>n("invoice_col_name",a),type:"number"}),e.jsx(r,{label:"ÄÆ¡n vá»‹ (ÄVT)",value:t.invoice_col_unit,onChange:a=>n("invoice_col_unit",a),type:"number"}),e.jsx(r,{label:"Sá»‘ lÆ°á»£ng",value:t.invoice_col_qty,onChange:a=>n("invoice_col_qty",a),type:"number"}),e.jsx(r,{label:"ÄÆ¡n giÃ¡",value:t.invoice_col_price,onChange:a=>n("invoice_col_price",a),type:"number"})]}),e.jsx(r,{label:"ThÃ nh tiá»n",value:t.invoice_col_total,onChange:a=>n("invoice_col_total",a),type:"number"})]})})]})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col p-12 overflow-y-auto relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#d4a574_1px,transparent_1px)] dark:bg-[radial-gradient(#1e293b_1px,transparent_1px)] [background-size:40px_40px] opacity-[0.15] -z-10"}),e.jsxs("div",{className:"max-w-[1100px] mx-auto w-full flex flex-col items-center",children:[e.jsxs("div",{className:"w-full flex items-center justify-between mb-12",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 text-[#4a7c59] mb-2 font-black uppercase text-xs tracking-[0.4em]",children:[e.jsx(R,{size:16})," PhÃ²ng LAB Thiáº¿t káº¿"]}),e.jsx("h3",{className:"text-4xl font-black text-slate-800 dark:text-emerald-50 uppercase tracking-tighter",children:"Xem trÆ°á»›c Thá»i gian thá»±c"})]}),e.jsxs("div",{className:"flex bg-[#d4a574]/10 dark:bg-slate-800/60 p-1.5 rounded-[1.75rem] border-2 border-[#d4a574]/20 backdrop-blur-md shadow-xl",children:[e.jsxs("button",{className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-[#2d5016] to-[#4a7c59] text-white rounded-[1.25rem] text-[10px] font-black uppercase tracking-widest shadow-xl",children:[e.jsx(R,{size:18})," PhÃ³ng Ä‘áº¡i"]}),e.jsxs("button",{className:"flex items-center gap-3 px-6 py-3 hover:bg-[#d4a574]/10 text-[#8b6f47] rounded-[1.25rem] text-[10px] font-black uppercase tracking-widest transition-all",children:[e.jsx(me,{size:18})," MÃ¡y in thá»±c táº¿"]})]})]}),e.jsx("div",{className:"w-full bg-white dark:bg-slate-900 border-2 border-[#d4a574]/10 rounded-[4rem] p-16 shadow-[0_40px_100px_-20px_rgba(0,0,0,0.15)] overflow-auto custom-scrollbar flex justify-center perspective-[1000px]",children:e.jsx(H.div,{initial:{rotateX:5,y:40,opacity:0},animate:{rotateX:0,y:0,opacity:1},className:"origin-top",children:e.jsx("div",{className:"bg-white shadow-[0_32px_128px_-16px_rgba(0,0,0,0.3)] ring-1 ring-black/5",children:e.jsx(Y,{data:K,settings:t,type:s,isPreview:!0,onUpdateSetting:n})})})}),e.jsxs("div",{className:"mt-12 flex items-center gap-8 text-[#8b6f47]/40",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-[#4a7c59]/40"})," ",e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"ÄANG HOáº T Äá»˜NG"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-[#d4a574]/40"})," ",e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Tá»° Äá»˜NG Äáº¾M DÃ’NG"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," ",e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Há»– TRá»¢ Má»ŒI KHá»” GIáº¤Y"})]})]})]})]})]})};function b({title:v,children:s}){return e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-[#8b6f47] mb-3 ml-2 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#4a7c59]"}),v]}),e.jsxs("div",{className:"bg-[#fdfcfb] dark:bg-slate-800/30 p-8 rounded-[2.5rem] border-2 border-[#d4a574]/10 space-y-5 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 opacity-[0.03] pointer-events-none p-4",children:e.jsx(ge,{size:64})}),s]})]})}function r({label:v,value:s,onChange:p,type:f="text",...N}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-[#8b6f47] dark:text-[#d4a574]/60 uppercase tracking-widest ml-1",children:v}),e.jsx("input",{type:f,value:s,onChange:d=>p(d.target.value),className:"w-full bg-white dark:bg-slate-800 border-2 border-[#d4a574]/10 dark:border-slate-700 rounded-2xl px-5 py-3.5 text-sm font-black focus:border-[#4a7c59] dark:focus:border-[#4a7c59] transition-all dark:text-white outline-none ring-offset-2 ring-offset-white dark:ring-offset-slate-900 focus:ring-2 ring-[#4a7c59]/20",...N})]})}function o({label:v,checked:s,onChange:p}){return e.jsxs("div",{className:"flex items-center justify-between cursor-pointer group p-3 hover:bg-[#d4a574]/5 rounded-2xl transition-all",onClick:()=>p(!s),children:[e.jsx("span",{className:"text-sm font-black text-[#8b6f47] dark:text-emerald-50 group-hover:text-[#4a7c59] transition-colors uppercase tracking-tight",children:v}),e.jsx("button",{className:y("relative w-12 h-6 rounded-full transition-all duration-300 outline-none",s?"bg-gradient-to-r from-[#2d5016] to-[#4a7c59]":"bg-slate-200 dark:bg-slate-700"),children:e.jsx("div",{className:y("absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-all duration-300 shadow-md",s?"translate-x-6":"translate-x-0")})})]})}class je extends Z.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,p){console.error("Uncaught error:",s,p),this.setState({errorInfo:p})}render(){return this.state.hasError?e.jsxs("div",{className:"p-10 bg-red-50 text-red-800 rounded-xl border border-red-200 m-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Invoice Designer Error"}),e.jsx("p",{className:"font-mono text-sm whitespace-pre-wrap bg-white p-4 rounded border border-red-100",children:this.state.error?.toString()}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer font-bold mb-2",children:"Stack Trace"}),e.jsx("pre",{className:"text-[10px] overflow-auto max-h-60 bg-slate-900 text-white p-4 rounded",children:this.state.errorInfo?.componentStack})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reload Page"})]}):this.props.children}}function Ae(){return e.jsx(je,{children:e.jsx(fe,{})})}export{Ae as default};
