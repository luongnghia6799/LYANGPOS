import{r as l,a1 as w,j as e}from"./vendor-C23Namvk.js";import{a as f}from"./vendor-utils-C44aPrMG.js";import{m as a,A as N}from"./vendor-framer-DVZK1f_z.js";import{L as h,W as b,aE as k,aF as S,ao as z,K as I,ak as L,at as g}from"./vendor-icons-C8Df64wb.js";const _="/assets/logo-B4gLEp1k.png";function F(){const[r,c]=l.useState(!0),[p,x]=l.useState(!1),[t,d]=l.useState({username:localStorage.getItem("saved_username")||"",password:"",display_name:""}),[i,j]=l.useState(!0),[m,o]=l.useState(""),u=w(),v=async s=>{s.preventDefault(),x(!0),o("");try{if(r){const n=await f.post("/api/login",{username:t.username,password:t.password}),y=JSON.stringify(n.data.user);sessionStorage.setItem("user",y),i?localStorage.setItem("saved_username",t.username):localStorage.removeItem("saved_username"),u("/")}else{const n=await f.post("/api/register",{username:t.username,password:t.password,display_name:t.display_name});sessionStorage.setItem("user",JSON.stringify(n.data.user)),u("/")}}catch(n){o(n.response?.data?.error||"Thông tin đăng nhập không chính xác")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-[#faf8f3] dark:bg-[#06150a] overflow-hidden relative",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx(a.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#2d5016]/5 rounded-full blur-[100px]"}),e.jsx(a.div,{animate:{scale:[1,1.2,1],rotate:[0,-5,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#d4a574]/10 rounded-full blur-[100px]"}),e.jsx(a.div,{animate:{y:[0,-20,0],rotate:360},transition:{duration:15,repeat:1/0},className:"absolute top-[20%] right-[15%] text-[#2d5016]/10",children:e.jsx(h,{size:120})}),e.jsx(a.div,{animate:{y:[0,20,0],rotate:-45},transition:{duration:12,repeat:1/0},className:"absolute bottom-[20%] left-[10%] text-[#d4a574]/10",children:e.jsx(b,{size:160})})]}),e.jsxs(a.div,{initial:{opacity:0,y:30,scale:.9,filter:"blur(20px)"},animate:{opacity:1,y:0,scale:1,filter:"blur(0px)"},transition:{duration:1,ease:[.22,1,.36,1]},className:"w-full max-w-md relative z-10 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(a.div,{initial:{scale:.5,opacity:0,rotate:-20},animate:{scale:1,opacity:1,rotate:0},transition:{delay:.4,type:"spring",stiffness:150,damping:20},className:"inline-flex items-center justify-center w-40 h-40 mb-4 group",children:e.jsx("img",{src:_,alt:"Logo",className:"w-full h-full object-contain drop-shadow-[0_20px_50px_rgba(45,80,22,0.3)] group-hover:scale-110 transition-transform duration-700 ease-out"})}),e.jsxs(a.div,{initial:{opacity:0,y:20,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:.6,duration:.8,ease:[.22,1,.36,1]},children:[e.jsxs("h1",{className:"text-5xl font-black text-primary dark:text-emerald-400 tracking-tighter mb-2 italic",children:["Lyang",e.jsx("span",{className:"text-[#d4a574] not-italic text-glow",children:"POS"})]}),e.jsxs("p",{className:"text-[#8b6f47] dark:text-emerald-400/60 font-bold uppercase tracking-[0.2em] text-[10px]",children:["Quản lý vụ mùa thông minh • ",new Date().getFullYear()]})]})]}),e.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-2xl rounded-[3rem] border-2 border-[#d4a574]/20 p-8 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-6 -bottom-6 opacity-[0.05] -rotate-12 group-hover:rotate-0 transition-transform duration-700 pointer-events-none",children:e.jsx(b,{size:120})}),e.jsxs("div",{className:"flex bg-[#faf8f3] dark:bg-slate-950/50 p-1.5 rounded-[1.8rem] mb-8 relative border border-[#d4a574]/10",children:[e.jsx(a.div,{className:"absolute inset-y-1.5 rounded-[1.4rem] bg-gradient-to-r from-[#2d5016] to-[#4a7c59] shadow-lg shadow-[#2d5016]/20",initial:!1,animate:{left:r?"6px":"50%",width:"calc(50% - 6px)"},transition:{type:"spring",stiffness:300,damping:30}}),e.jsxs("button",{onClick:()=>{c(!0),o("")},className:`flex-1 relative z-10 py-3.5 text-xs font-black uppercase tracking-wider transition-colors flex items-center justify-center gap-2 ${r?"text-white":"text-[#8b6f47] hover:text-[#2d5016]"}`,children:[e.jsx(k,{size:16})," Đăng nhập"]}),e.jsxs("button",{onClick:()=>{c(!1),o("")},className:`flex-1 relative z-10 py-3.5 text-xs font-black uppercase tracking-wider transition-colors flex items-center justify-center gap-2 ${r?"text-[#8b6f47] hover:text-[#2d5016]":"text-white"}`,children:[e.jsx(S,{size:16})," Đăng ký"]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-5",children:[e.jsx(N,{mode:"wait",children:!r&&e.jsxs(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-[#8b6f47] uppercase ml-4",children:"Tên hiển thị"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-[#d4a574] group-focus-within:text-[#2d5016] transition-colors",children:e.jsx(z,{size:18})}),e.jsx("input",{type:"text",className:"w-full bg-[#faf8f3] dark:bg-slate-950/50 border-2 border-transparent focus:border-[#d4a574]/30 focus:bg-white rounded-2xl py-4 pl-14 pr-4 text-[#2d5016] placeholder-[#8b6f47]/40 outline-none transition-all font-bold shadow-inner",placeholder:"Họ tên của bạn...",value:t.display_name,onChange:s=>d({...t,display_name:s.target.value}),required:!r})]})]},"displayName")}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-[#8b6f47] uppercase ml-4",children:"Tên đăng nhập"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-[#d4a574] group-focus-within:text-[#2d5016] transition-colors",children:e.jsx(I,{size:18})}),e.jsx("input",{type:"text",className:"w-full bg-[#faf8f3] dark:bg-slate-950/50 border-2 border-transparent focus:border-[#d4a574]/30 focus:bg-white rounded-2xl py-4 pl-14 pr-4 text-[#2d5016] placeholder-[#8b6f47]/40 outline-none transition-all font-bold shadow-inner",placeholder:"Username",value:t.username,onChange:s=>d({...t,username:s.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-[#8b6f47] uppercase ml-4",children:"Mật khẩu"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-[#d4a574] group-focus-within:text-[#2d5016] transition-colors",children:e.jsx(L,{size:18})}),e.jsx("input",{type:"password",className:"w-full bg-[#faf8f3] dark:bg-slate-950/50 border-2 border-transparent focus:border-[#d4a574]/30 focus:bg-white rounded-2xl py-4 pl-14 pr-4 text-[#2d5016] placeholder-[#8b6f47]/40 outline-none transition-all font-bold shadow-inner",placeholder:"••••••••",value:t.password,onChange:s=>d({...t,password:s.target.value}),required:!0})]})]}),r&&e.jsx("div",{className:"flex items-center gap-2 ml-2",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group/check",children:[e.jsx("div",{className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all ${i?"bg-[#2d5016] border-[#2d5016]":"bg-transparent border-[#d4a574]/40 group-hover/check:border-[#2d5016]"}`,children:i&&e.jsx(a.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(g,{size:12,className:"text-white -rotate-45"})})}),e.jsx("input",{type:"checkbox",className:"hidden",checked:i,onChange:s=>j(s.target.checked)}),e.jsx("span",{className:`text-[11px] font-black transition-colors uppercase tracking-wider ${i?"text-[#2d5016]":"text-[#8b6f47] group-hover/check:text-[#2d5016]"}`,children:"Ghi nhớ tài khoản"})]})}),m&&e.jsx(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 bg-red-50 dark:bg-red-950/20 border-2 border-red-200/50 dark:border-red-900/30 rounded-2xl text-red-600 dark:text-red-400 text-[11px] font-black text-center uppercase tracking-wider",children:m}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-[#2d5016] to-[#4a7c59] text-white font-black uppercase tracking-[0.2em] py-4 rounded-2xl shadow-xl shadow-[#2d5016]/20 hover:shadow-[#2d5016]/40 active:scale-[0.98] transition-all flex items-center justify-center gap-3 mt-4 group disabled:opacity-50",children:p?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-3 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Đang chuẩn bị..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:r?"Vào cửa hàng":"Bắt đầu ngay"}),e.jsx(a.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:e.jsx(g,{size:20})})]})})]})]}),e.jsx("div",{className:"text-center mt-10",children:e.jsxs("p",{className:"text-[#8b6f47]/40 dark:text-emerald-900 text-[10px] font-black uppercase tracking-[0.3em] flex items-center justify-center gap-2",children:[e.jsx(h,{size:12})," LyangPOS Sustainable Agri System • 2024"]})})]})]})}export{F as default};
